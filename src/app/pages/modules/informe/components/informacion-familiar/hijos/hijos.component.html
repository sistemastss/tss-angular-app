<div class="mx-auto card">
  <div class="card-body mb-4">
    <div class="row">
      <div class="col-md-8">
        <b class="card-title">Hijos</b>
      </div>
      <div class="col-md-4 text-right">
        <button (click)="open(mdHijos)" class="btn btn-primary">
          <i class="fa fa-plus"></i>
          Agregar
        </button>
      </div>
    </div>
    <div class="form-group"><hr></div>
    <div class="form-group row">
      <div class="col-md-12">
        <table class="table table-bordered">
          <thead class="text-capitalize">
          <th>edad</th>
          <th>nombre</th>
          <th>ocupación</th>
          <th>ubicación</th>
          <th class="acciones">acciones</th>
          </thead>
          <tbody>
          <tr *ngFor="let value of hijos">
            <td>{{ value.edad }}</td>
            <td>{{ value.nombre }}</td>
            <td>{{ value.ocupacion }}</td>
            <td>{{ value.ubicacion }}</td>
            <td class="acciones">
              <div class="text-center">
                <button class="btn btn-primary mr-2" (click)="open(mdHijos, value)">
                  <i class="fa fa-edit"></i>
                </button>

                <button class="btn btn-danger ml-2" (click)="delete(value.id)">
                  <i class="fa fa-trash"></i>
                </button>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <hr>
    </div>
  </div>
</div>

<!-- Modal add hijos -->
<ng-template #mdHijos let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="exampleModalVerticalLabel">Hijos</h5>
    <button type="button" class="close" (click)="modal.close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="form">

      <!-- edad -->
      <div class="form-group row">
        <label class="col-sm-3 col-form-label" for="hijo-edad">Edad</label>
        <div class="col-sm-9">
          <input type="number" class="form-control"
                 id="hijo-edad"
                 name="edad"
                 formControlName="edad"
                 placeholder="Ingrese un numero valido"
                 required>
          <div class="ng-invalid-feedback"
               *ngIf="(form.get('edad').invalid &&
                     form.get('edad').dirty)">
            El campo es requerido
          </div>
        </div>
      </div>


      <!-- nombre -->
      <div class="form-group row">
        <label class="col-sm-3 col-form-label" for="hijo-nombre">Nombre</label>
        <div class="col-sm-9">
          <input type="text" class="form-control"
                 id="hijo-nombre"
                 name="nombre"
                 formControlName="nombre"
                 placeholder="Ingrese el nombre valido"
                 required>
          <div class="ng-invalid-feedback"
               *ngIf="(form.get('nombre').invalid &&
                     form.get('nombre').dirty)">
            El campo es requerido
          </div>
        </div>
      </div>


      <!-- ocupacion -->
      <div class="form-group row">
        <label class="col-sm-3 col-form-label" for="hijo-ocupacion">Ocupación</label>
        <div class="col-sm-9">
          <input type="text" class="form-control"
                 id="hijo-ocupacion"
                 name="ocupacion"
                 formControlName="ocupacion"
                 placeholder="Ocupación del hijo"
                 required>
          <div class="ng-invalid-feedback"
               *ngIf="(form.get('ocupacion').invalid &&
                     form.get('ocupacion').dirty)">
            El campo es requerido
          </div>
        </div>
      </div>


      <!-- ubicacion -->
      <div class="form-group row">
        <label class="col-sm-3 col-form-label" for="hijo-ubicacion">Ubicación</label>
        <div class="col-sm-9">
          <input type="text" class="form-control"
                 id="hijo-ubicacion"
                 name="ubicacion"
                 formControlName="ubicacion"
                 placeholder="ingrese una ubicación valida"
                 required>
          <div class="ng-invalid-feedback"
               *ngIf="(form.get('ubicacion').invalid &&
                     form.get('ubicacion').dirty)">
            El campo es requerido
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button class="btn btn-warning"
            *ngIf="isUpdate"
            [disabled]="form.invalid"
            (click)="update()">
      Actualizar
    </button>
    <button class="btn btn-primary"
            *ngIf="!isUpdate"
            [disabled]="form.invalid"
            (click)="add()">
      Guardar
    </button>
    <button class="btn btn-secondary"
            (click)="modal.close()">
      Cerrar
    </button>
  </div>
</ng-template>
